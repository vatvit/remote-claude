services:
  host:
    build: .
    ports:
      - "8888:8888"
      - "8887:8887"
    environment:
      - PORT=8888
      - ADMIN_PORT=8887
      - BRIDGE_URL=http://host.docker.internal:8886
      - ALLOWED_IPS=${ALLOWED_IPS:-}
    volumes:
      - ${CLAUDE_WORK_DIR:-.}:/work
      - ./docs:/app/docs
      - ./host:/app/host
      - ./admin:/app/admin
      - ./config:/app/config
      - host_node_modules:/app/host/node_modules
    command: npm run dev

volumes:
  host_node_modules:
