---
title: Markdown rendering and syntax highlighting
status: completed
type: feature
priority: medium
epic: remote-control
---

## Workflow

| # | Step | Status | Notes |
|---|------|--------|-------|
| 10 | Requirements | done | Deliverables defined in task description |
| 20 | BDD | skipped | UI feature, manual verification |
| 30 | Assessment | done | Existing app.js + style.css reviewed |
| 40 | POC | skipped | Standard CDN libraries, low risk |
| 50 | Domain | skipped | Pure UI feature |
| 60 | Architecture | done | CDN-based: marked.js + highlight.js |
| 70 | Tests | skipped | Manual verification |
| 80 | Subtasks | skipped | Single implementation unit |
| 90 | Implementation | done | All deliverables implemented and verified |
| 100 | Tech Debt | done | CDN dependency, no DOMPurify |
| 110 | Reflection | done | Memory updated |

## Description

Render Claude's responses as formatted markdown with syntax-highlighted code blocks.

**Deliverables:**
- Markdown parsing (use a lightweight CDN library like marked.js or similar)
- Code block syntax highlighting (highlight.js or Prism via CDN)
- Proper rendering of: headers, bold/italic, lists, inline code, code blocks, links, tables
- Copy button on code blocks

**Decisions made:**
- marked.js 12.0.1 (lightweight, GFM support)
- highlight.js 11.9.0 with github-dark theme
- Links open in new tab (target=_blank)

## Tech Debt

- CDN dependency — no local fallback for marked.js/highlight.js. Graceful degradation to escaped HTML if CDN unavailable.
- No DOMPurify — marked.js output via innerHTML. Low risk (content from Claude, not user).
- Streaming flash — raw text during streaming, markdown render on completion. Brief visual transition.
